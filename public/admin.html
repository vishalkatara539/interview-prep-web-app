<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - InterviewPrep Pro</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-logo">
        <h1>InterviewPrep</h1>
      </div>
      
      <nav class="sidebar-nav">
        <a href="/admin" class="nav-item active">
          <span class="nav-icon">üë•</span>
          <span>Users</span>
        </a>
        <a href="#" class="nav-item" id="questions-link">
          <span class="nav-icon">üìù</span>
          <span>Questions</span>
        </a>
        <a href="#" class="nav-item" id="progress-link">
          <span class="nav-icon">üìä</span>
          <span>All Progress</span>
        </a>
        <a href="/dashboard" class="nav-item">
          <span class="nav-icon">‚Üê</span>
          <span>Back to Dashboard</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <div class="user-info">
          <div class="user-avatar" id="user-avatar">A</div>
          <div class="user-details">
            <h4 id="user-name">Admin</h4>
            <p>Administrator</p>
          </div>
        </div>
        <button class="btn btn-secondary btn-sm" style="margin-top: 12px; width: 100%;" id="logout-btn">
          Logout
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="dashboard-header">
        <h1>Admin Panel</h1>
        <p>Manage users, questions, and view progress</p>
      </div>

      <!-- Admin Tabs -->
      <div class="admin-tabs">
        <button class="admin-tab active" data-tab="users">Users</button>
        <button class="admin-tab" data-tab="questions">Questions</button>
        <button class="admin-tab" data-tab="progress">Progress</button>
      </div>

      <!-- Users Panel -->
      <div class="admin-panel" id="users-panel">
        <div class="admin-card">
          <h3>All Users</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Username</th>
                  <th>Email</th>
                  <th>Role</th>
                  <th>Quizzes</th>
                  <th>Avg %</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="users-table">
                <tr>
                  <td colspan="7">
                    <div class="loading"><div class="spinner"></div></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Questions Panel -->
      <div class="admin-panel hidden" id="questions-panel">
        <div class="admin-card">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3>All Questions</h3>
            <button class="btn btn-primary btn-sm" id="add-question-btn">+ Add Question</button>
          </div>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Category</th>
                  <th>Question</th>
                  <th>Answer</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="questions-table">
                <tr>
                  <td colspan="5">
                    <div class="loading"><div class="spinner"></div></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Progress Panel -->
      <div class="admin-panel hidden" id="progress-panel">
        <div class="admin-card">
          <h3>All User Progress</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>User</th>
                  <th>Category</th>
                  <th>Score</th>
                  <th>Percentage</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody id="progress-table">
                <tr>
                  <td colspan="5">
                    <div class="loading"><div class="spinner"></div></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Add/Edit Question Modal -->
  <div class="modal-overlay" id="question-modal">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modal-title">Add Question</h3>
        <button class="modal-close" id="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="question-form">
          <input type="hidden" id="question-id">
          <div class="form-group">
            <label for="question-category">Category</label>
            <select id="question-category" required>
              <option value="JavaScript">JavaScript</option>
              <option value="React">React</option>
              <option value="Node.js">Node.js</option>
              <option value="HTML/CSS">HTML/CSS</option>
              <option value="SQL">SQL</option>
              <option value="General Programming">General Programming</option>
            </select>
          </div>
          <div class="form-group">
            <label for="question-text">Question</label>
            <textarea id="question-text" placeholder="Enter the question" required></textarea>
          </div>
          <div class="form-group">
            <label>Options</label>
            <div class="form-row">
              <input type="text" id="option-0" placeholder="Option A" required>
              <input type="text" id="option-1" placeholder="Option B" required>
            </div>
            <div class="form-row" style="margin-top: 8px;">
              <input type="text" id="option-2" placeholder="Option C" required>
              <input type="text" id="option-3" placeholder="Option D" required>
            </div>
          </div>
          <div class="form-group">
            <label for="correct-answer">Correct Answer</label>
            <select id="correct-answer" required>
              <option value="0">Option A</option>
              <option value="1">Option B</option>
              <option value="2">Option C</option>
              <option value="3">Option D</option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="cancel-modal">Cancel</button>
        <button class="btn btn-primary" id="save-question">Save Question</button>
      </div>
    </div>
  </div>

  <script src="js/admin.js"></script>
</body>
</html>
